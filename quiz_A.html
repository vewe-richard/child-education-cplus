<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whileå¾ªç¯å°æµ‹éªŒ - Aå· ğŸŒŸ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        h1 { font-size: 2.5em; margin-bottom: 10px; }
        .info { font-size: 1.2em; opacity: 0.9; }
        .start-screen, .quiz-screen, .result-screen {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .start-screen { text-align: center; }
        .emoji-big { font-size: 5em; margin-bottom: 20px; }
        .student-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
        }
        .student-btn {
            background: #f0f0f0;
            border: 3px solid #ddd;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        .student-btn:hover { background: #667eea; color: white; border-color: #667eea; }
        .student-btn.selected { background: #667eea; color: white; border-color: #667eea; transform: scale(1.1); }
        .start-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 30px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
        }
        .start-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .start-btn:hover:not(:disabled) { transform: scale(1.05); }
        .quiz-screen { display: none; }
        .quiz-screen.active { display: block; }
        .progress-bar {
            background: #eee;
            border-radius: 10px;
            height: 10px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s;
        }
        .question-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #666;
        }
        .question-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        .code-box {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            font-family: Consolas, monospace;
            font-size: 1.1em;
            line-height: 1.6;
            margin: 20px 0;
            overflow-x: auto;
        }
        .code-box .kw { color: #c586c0; }
        .code-box .num { color: #b5cea8; }
        .code-box .str { color: #ce9178; }
        .code-box .cmt { color: #6a9955; }
        .options { display: grid; gap: 12px; margin: 20px 0; }
        .option {
            background: #f8f9fa;
            border: 3px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }
        .option:hover { border-color: #667eea; background: #f0f0ff; }
        .option.selected { border-color: #667eea; background: #e8e8ff; }
        .option.correct { border-color: #28a745; background: #d4edda; }
        .option.wrong { border-color: #dc3545; background: #f8d7da; }
        .fill-input {
            width: 100%;
            max-width: 300px;
            padding: 12px 20px;
            font-size: 1.1em;
            border: 3px solid #667eea;
            border-radius: 10px;
            font-family: Consolas, monospace;
        }
        .fill-input:focus { outline: none; box-shadow: 0 0 10px rgba(102,126,234,0.3); }
        .fill-input.correct { border-color: #28a745; background: #d4edda; }
        .fill-input.wrong { border-color: #dc3545; background: #f8d7da; }
        .tf-btns { display: flex; gap: 20px; justify-content: center; margin: 20px 0; }
        .tf-btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border: 3px solid #ddd;
            border-radius: 15px;
            cursor: pointer;
            background: white;
            transition: all 0.3s;
        }
        .tf-btn:hover { transform: scale(1.05); }
        .tf-btn.selected { transform: scale(1.1); }
        .tf-btn.true.selected { background: #d4edda; border-color: #28a745; }
        .tf-btn.false.selected { background: #f8d7da; border-color: #dc3545; }
        .explanation {
            background: #e8f5e9;
            border-left: 4px solid #28a745;
            padding: 15px 20px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        .explanation.show { display: block; }
        .explanation.wrong-exp { background: #ffebee; border-color: #dc3545; }
        .btn-group { display: flex; justify-content: center; gap: 15px; margin-top: 25px; }
        .btn {
            padding: 12px 35px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-submit { background: #667eea; color: white; }
        .btn-next { background: #f5576c; color: white; display: none; }
        .btn-next.show { display: inline-block; }
        .btn:hover { transform: scale(1.05); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .result-screen { display: none; text-align: center; }
        .result-screen.active { display: block; }
        .result-emoji { font-size: 6em; margin-bottom: 20px; }
        .result-score { font-size: 3em; color: #667eea; font-weight: bold; margin: 20px 0; }
        .result-stats { display: flex; justify-content: center; gap: 40px; margin: 30px 0; }
        .stat { text-align: center; }
        .stat-value { font-size: 2em; color: #764ba2; font-weight: bold; }
        .stat-label { color: #666; }
        .result-msg { font-size: 1.3em; color: #666; margin: 20px 0; }
        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 30px;
            font-size: 1.2em;
            cursor: pointer;
            margin-top: 20px;
        }
        .restart-btn:hover { transform: scale(1.05); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒŸ Whileå¾ªç¯å°æµ‹éªŒ - Aå·</h1>
            <p class="info">10é“é¢˜ Â· 20åˆ†é’Ÿ Â· è½»æ¾æŒ‘æˆ˜</p>
        </header>

        <div class="start-screen" id="startScreen">
            <div class="emoji-big">ğŸ“</div>
            <h2>å‡†å¤‡å¥½äº†å—ï¼Ÿ</h2>
            <p style="margin:15px 0;color:#666;">é€‰æ‹©ä½ çš„åå­—ï¼Œå¼€å§‹ç­”é¢˜ï¼</p>
            <div class="student-grid">
                <button class="student-btn" onclick="selectStudent(this,'å‡¡å‡¡')">å‡¡å‡¡</button>
                <button class="student-btn" onclick="selectStudent(this,'QQ')">QQ</button>
                <button class="student-btn" onclick="selectStudent(this,'å°é¾™')">å°é¾™</button>
                <button class="student-btn" onclick="selectStudent(this,'ä¿Šä¿Š')">ä¿Šä¿Š</button>
                <button class="student-btn" onclick="selectStudent(this,'å®‡è…¾')">å®‡è…¾</button>
                <button class="student-btn" onclick="selectStudent(this,'å°ç´«')">å°ç´«</button>
                <button class="student-btn" onclick="selectStudent(this,'è‰ºé—»')">è‰ºé—»</button>
            </div>
            <button class="start-btn" id="startBtn" onclick="startQuiz()" disabled>å¼€å§‹ç­”é¢˜ ğŸš€</button>
        </div>

        <div class="quiz-screen" id="quizScreen">
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
            <div class="question-info">
                <span>ğŸ‘¤ <strong id="studentName">-</strong></span>
                <span>ç¬¬ <strong id="qNum">1</strong> / 10 é¢˜</span>
                <span>å¾—åˆ†: <strong id="scoreDisplay">0</strong></span>
            </div>
            <div id="questionArea"></div>
            <div class="btn-group">
                <button class="btn btn-submit" id="submitBtn" onclick="submitAnswer()">æäº¤ç­”æ¡ˆ</button>
                <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â†’</button>
            </div>
        </div>

        <div class="result-screen" id="resultScreen">
            <div class="result-emoji" id="resultEmoji">ğŸ‰</div>
            <h2>ç­”é¢˜å®Œæˆï¼</h2>
            <div class="result-score" id="resultScore">0åˆ†</div>
            <div class="result-stats">
                <div class="stat">
                    <div class="stat-value" id="correctNum">0</div>
                    <div class="stat-label">ç­”å¯¹</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="wrongNum">0</div>
                    <div class="stat-label">ç­”é”™</div>
                </div>
            </div>
            <div class="result-msg" id="resultMsg"></div>
            <button class="restart-btn" onclick="restart()">å†æ¥ä¸€æ¬¡ ğŸ”„</button>
        </div>
    </div>

<script>
const questions = [
    {
        type: 'choice',
        question: 'whileå¾ªç¯ä»€ä¹ˆæ—¶å€™ä¼šæ‰§è¡Œå¾ªç¯ä½“ï¼Ÿ',
        options: ['æ¡ä»¶ä¸ºå‡æ—¶', 'æ¡ä»¶ä¸ºçœŸæ—¶', 'æ°¸è¿œæ‰§è¡Œ', 'åªæ‰§è¡Œä¸€æ¬¡'],
        answer: 1,
        explanation: 'whileå¾ªç¯å…ˆåˆ¤æ–­æ¡ä»¶ï¼Œæ¡ä»¶ä¸ºçœŸ(true)æ—¶æ‰æ‰§è¡Œå¾ªç¯ä½“ã€‚'
    },
    {
        type: 'choice',
        question: 'è¿™æ®µä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ',
        code: '<span class="kw">int</span> i = <span class="num">1</span>;\n<span class="kw">while</span> (i <= <span class="num">3</span>) {\n    cout << i << <span class="str">" "</span>;\n    i++;\n}',
        options: ['1 2 3', '1 2 3 4', '0 1 2 3', '1 2'],
        answer: 0,
        explanation: 'iä»1å¼€å§‹ï¼Œæ¯æ¬¡è¾“å‡ºååŠ 1ï¼Œå½“i=4æ—¶ä¸æ»¡è¶³i<=3ï¼Œé€€å‡ºã€‚è¾“å‡º1 2 3ã€‚'
    },
    {
        type: 'tf',
        question: 'å¦‚æœwhileå¾ªç¯çš„æ¡ä»¶ä¸€å¼€å§‹å°±æ˜¯å‡çš„ï¼Œå¾ªç¯ä½“ä¸€æ¬¡éƒ½ä¸ä¼šæ‰§è¡Œã€‚',
        answer: true,
        explanation: 'æ­£ç¡®ï¼whileæ˜¯"å…ˆåˆ¤æ–­åæ‰§è¡Œ"ï¼Œæ¡ä»¶ä¸ºå‡ç›´æ¥è·³è¿‡å¾ªç¯ä½“ã€‚'
    },
    {
        type: 'choice',
        question: 'ä¸‹é¢å“ªä¸ªä¼šé€ æˆæ­»å¾ªç¯ï¼Ÿ',
        options: [
            'while (i < 10) { i++; }',
            'while (i < 10) { cout << i; }',
            'while (false) { cout << "hi"; }',
            'while (i > 0) { i--; }'
        ],
        answer: 1,
        explanation: 'ç¬¬äºŒä¸ªé€‰é¡¹æ²¡æœ‰ä¿®æ”¹içš„å€¼ï¼Œiæ°¸è¿œå°äº10ï¼Œé€ æˆæ­»å¾ªç¯ï¼'
    },
    {
        type: 'fill',
        question: 'å¡«å†™æ¡ä»¶ï¼Œè®©å¾ªç¯è¾“å‡º 5 4 3 2 1',
        code: '<span class="kw">int</span> i = <span class="num">5</span>;\n<span class="kw">while</span> ( ??? ) {\n    cout << i << <span class="str">" "</span>;\n    i--;\n}',
        answer: ['i >= 1', 'i>=1', 'i > 0', 'i>0'],
        placeholder: 'è¾“å…¥æ¡ä»¶',
        explanation: 'ä»5å€’æ•°åˆ°1ï¼Œæ¡ä»¶å¯ä»¥æ˜¯ i >= 1 æˆ– i > 0ã€‚'
    },
    {
        type: 'choice',
        question: 'è¿™æ®µä»£ç æ‰§è¡Œåï¼Œsumç­‰äºå¤šå°‘ï¼Ÿ',
        code: '<span class="kw">int</span> sum = <span class="num">0</span>;\n<span class="kw">int</span> i = <span class="num">1</span>;\n<span class="kw">while</span> (i <= <span class="num">3</span>) {\n    sum = sum + i;\n    i++;\n}',
        options: ['3', '6', '5', '4'],
        answer: 1,
        explanation: 'sum = 0+1+2+3 = 6ã€‚è¿™æ˜¯ç´¯åŠ çš„ç»å…¸ç”¨æ³•ã€‚'
    },
    {
        type: 'tf',
        question: 'while (x = 5) å’Œ while (x == 5) çš„æ„æ€ä¸€æ ·ã€‚',
        answer: false,
        explanation: 'é”™è¯¯ï¼= æ˜¯èµ‹å€¼ï¼Œ== æ˜¯æ¯”è¾ƒã€‚x = 5 ä¼šæŠŠ5èµ‹ç»™xï¼Œç„¶ååˆ¤æ–­5ä¸ºçœŸï¼Œé€ æˆæ­»å¾ªç¯ï¼'
    },
    {
        type: 'choice',
        question: 'è¿™æ®µä»£ç ä¼šå¾ªç¯å‡ æ¬¡ï¼Ÿ',
        code: '<span class="kw">int</span> n = <span class="num">1</span>;\n<span class="kw">while</span> (n < <span class="num">100</span>) {\n    n = n * <span class="num">2</span>;\n}',
        options: ['100æ¬¡', '7æ¬¡', '50æ¬¡', '99æ¬¡'],
        answer: 1,
        explanation: 'nç¿»å€ï¼š1â†’2â†’4â†’8â†’16â†’32â†’64â†’128ã€‚å½“n=128æ—¶é€€å‡ºï¼Œå…±7æ¬¡ã€‚'
    },
    {
        type: 'fill',
        question: 'è®¡ç®—é˜¶ä¹˜æ—¶ï¼Œresultçš„åˆå§‹å€¼åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ',
        code: '<span class="kw">int</span> result = ???;\n<span class="kw">int</span> i = <span class="num">1</span>;\n<span class="kw">while</span> (i <= <span class="num">5</span>) {\n    result = result * i;\n    i++;\n}\n<span class="cmt">// result = 5! = 120</span>',
        answer: ['1'],
        placeholder: 'è¾“å…¥æ•°å­—',
        explanation: 'ç´¯ä¹˜çš„åˆå§‹å€¼å¿…é¡»æ˜¯1ï¼Œå› ä¸ºä»»ä½•æ•°ä¹˜1ç­‰äºå®ƒè‡ªå·±ã€‚å¦‚æœæ˜¯0ï¼Œç»“æœæ°¸è¿œæ˜¯0ã€‚'
    },
    {
        type: 'choice',
        question: 'åµŒå¥—å¾ªç¯ï¼šå¤–å±‚å¾ªç¯2æ¬¡ï¼Œå†…å±‚å¾ªç¯3æ¬¡ï¼Œä¸€å…±æ‰§è¡Œå‡ æ¬¡å†…å±‚å¾ªç¯ä½“ï¼Ÿ',
        options: ['5æ¬¡', '6æ¬¡', '2æ¬¡', '3æ¬¡'],
        answer: 1,
        explanation: 'åµŒå¥—å¾ªç¯æ€»æ¬¡æ•° = å¤–å±‚æ¬¡æ•° Ã— å†…å±‚æ¬¡æ•° = 2 Ã— 3 = 6æ¬¡ã€‚'
    }
];

let currentStudent = '';
let currentQ = 0;
let score = 0;
let correct = 0;
let selectedAnswer = null;
let answered = false;

function selectStudent(btn, name) {
    document.querySelectorAll('.student-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    currentStudent = name;
    document.getElementById('startBtn').disabled = false;
}

function startQuiz() {
    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('quizScreen').classList.add('active');
    document.getElementById('studentName').textContent = currentStudent;
    showQuestion();
}

function showQuestion() {
    const q = questions[currentQ];
    document.getElementById('qNum').textContent = currentQ + 1;
    document.getElementById('progressFill').style.width = ((currentQ + 1) / questions.length * 100) + '%';

    let html = '<div class="question-title">' + q.question + '</div>';
    if (q.code) html += '<div class="code-box"><pre>' + q.code + '</pre></div>';

    if (q.type === 'choice') {
        html += '<div class="options">';
        q.options.forEach((opt, i) => {
            html += '<div class="option" onclick="selectOption(' + i + ')" id="opt' + i + '">' + String.fromCharCode(65 + i) + '. ' + opt + '</div>';
        });
        html += '</div>';
    } else if (q.type === 'tf') {
        html += '<div class="tf-btns">';
        html += '<button class="tf-btn true" onclick="selectTF(true)" id="tfTrue">âœ… æ­£ç¡®</button>';
        html += '<button class="tf-btn false" onclick="selectTF(false)" id="tfFalse">âŒ é”™è¯¯</button>';
        html += '</div>';
    } else if (q.type === 'fill') {
        html += '<input type="text" class="fill-input" id="fillInput" placeholder="' + (q.placeholder || 'è¯·è¾“å…¥ç­”æ¡ˆ') + '">';
    }

    html += '<div class="explanation" id="explanation">' + q.explanation + '</div>';
    document.getElementById('questionArea').innerHTML = html;

    selectedAnswer = null;
    answered = false;
    document.getElementById('submitBtn').disabled = false;
    document.getElementById('nextBtn').classList.remove('show');
}

function selectOption(i) {
    if (answered) return;
    document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
    document.getElementById('opt' + i).classList.add('selected');
    selectedAnswer = i;
}

function selectTF(val) {
    if (answered) return;
    document.getElementById('tfTrue').classList.remove('selected');
    document.getElementById('tfFalse').classList.remove('selected');
    document.getElementById(val ? 'tfTrue' : 'tfFalse').classList.add('selected');
    selectedAnswer = val;
}

function submitAnswer() {
    if (answered) return;
    const q = questions[currentQ];
    let isCorrect = false;

    if (q.type === 'choice') {
        if (selectedAnswer === null) { alert('è¯·é€‰æ‹©ç­”æ¡ˆï¼'); return; }
        isCorrect = selectedAnswer === q.answer;
        document.querySelectorAll('.option').forEach((o, i) => {
            if (i === q.answer) o.classList.add('correct');
            else if (i === selectedAnswer) o.classList.add('wrong');
        });
    } else if (q.type === 'tf') {
        if (selectedAnswer === null) { alert('è¯·é€‰æ‹©æ­£ç¡®æˆ–é”™è¯¯ï¼'); return; }
        isCorrect = selectedAnswer === q.answer;
    } else if (q.type === 'fill') {
        const input = document.getElementById('fillInput');
        const val = input.value.trim().replace(/\s+/g, '');
        if (!val) { alert('è¯·è¾“å…¥ç­”æ¡ˆï¼'); return; }
        isCorrect = q.answer.some(a => val.toLowerCase() === a.toLowerCase().replace(/\s+/g, ''));
        input.classList.add(isCorrect ? 'correct' : 'wrong');
        input.disabled = true;
    }

    answered = true;
    if (isCorrect) { score += 10; correct++; }
    document.getElementById('scoreDisplay').textContent = score;

    const exp = document.getElementById('explanation');
    if (!isCorrect) exp.classList.add('wrong-exp');
    exp.classList.add('show');

    document.getElementById('submitBtn').disabled = true;
    document.getElementById('nextBtn').classList.add('show');
    document.getElementById('nextBtn').textContent = currentQ < questions.length - 1 ? 'ä¸‹ä¸€é¢˜ â†’' : 'æŸ¥çœ‹ç»“æœ ğŸ†';
}

function nextQuestion() {
    if (currentQ < questions.length - 1) {
        currentQ++;
        showQuestion();
    } else {
        showResult();
    }
}

function showResult() {
    document.getElementById('quizScreen').classList.remove('active');
    document.getElementById('resultScreen').classList.add('active');

    document.getElementById('resultScore').textContent = score + 'åˆ†';
    document.getElementById('correctNum').textContent = correct;
    document.getElementById('wrongNum').textContent = questions.length - correct;

    let emoji, msg;
    if (score >= 90) { emoji = 'ğŸ†'; msg = currentStudent + ' å¤ªæ£’äº†ï¼æ»¡åˆ†å­¦éœ¸ï¼'; }
    else if (score >= 70) { emoji = 'ğŸŒŸ'; msg = currentStudent + ' å¾ˆä¸é”™ï¼Œç»§ç»­åŠ æ²¹ï¼'; }
    else if (score >= 50) { emoji = 'ğŸ’ª'; msg = currentStudent + ' è¿˜å¯ä»¥ï¼Œå†å¤ä¹ ä¸€ä¸‹ï¼'; }
    else { emoji = 'ğŸ“š'; msg = currentStudent + ' éœ€è¦å¤šç»ƒä¹ å“¦ï¼'; }

    document.getElementById('resultEmoji').textContent = emoji;
    document.getElementById('resultMsg').textContent = msg;
}

function restart() {
    currentQ = 0;
    score = 0;
    correct = 0;
    document.getElementById('resultScreen').classList.remove('active');
    document.getElementById('startScreen').style.display = 'block';
    document.querySelectorAll('.student-btn').forEach(b => b.classList.remove('selected'));
    document.getElementById('startBtn').disabled = true;
    currentStudent = '';
}
</script>
</body>
</html>
